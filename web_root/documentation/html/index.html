<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Tina4Stack: Tina4 Stack</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxyGenTina4.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Tina4Stack
   &#160;<span id="projectnumber">v1.0.1</span>
   </div>
   <div id="projectbrief">The Tina4 Stack</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Tina4 Stack </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#tina">Tina</a><ul><li class="level2"><a href="#download_latest">Download the Latest Release</a></li>
<li class="level2"><a href="#installing_tina4">Installation</a></li>
<li class="level2"><a href="#what_is_in_the_stack">What is in the Stack?</a></li>
<li class="level2"><a href="#what_is_tina4">What is Tina4</a></li>
</ul>
</li>
<li class="level1"><a href="#ruth">Ruth</a><ul><li class="level2"><a href="#ruth_example">Routing Example</a></li>
<li class="level2"><a href="#ruth_example_variables">Routing Example with Variables</a></li>
</ul>
</li>
<li class="level1"><a href="#cody">Cody</a><ul><li class="level2"><a href="#cody_example">Example of Bootstrap Inputf</a></li>
<li class="level2"><a href="#code_example_ajax">Example of Ajax Handler</a></li>
</ul>
</li>
<li class="level1"><a href="#kim">Kim</a><ul><li class="level2"><a href="#kim_include">Including HTML snippets</a></li>
<li class="level2"><a href="#kim_parse_variable">Parsing Variables</a></li>
<li class="level2"><a href="#kim_calling_php">Calling built in PHP functions</a></li>
<li class="level2"><a href="#kim_classes">Calling methods on classes</a></li>
</ul>
</li>
<li class="level1"><a href="#debby">Debby</a><ul><li class="level2"><a href="#debby_create">Creating a Database Connection</a></li>
<li class="level2"><a href="#debby_example">An Example Connection</a></li>
<li class="level2"><a href="#debby_get_rows">Some CRUDL</a></li>
</ul>
</li>
<li class="level1"><a href="#maggy">Maggy</a><ul><li class="level2"><a href="#maggy_how">How She Does It</a></li>
</ul>
</li>
<li class="level1"><a href="#emma">Emma</a><ul><li class="level2"><a href="#emma_email">Sending an Email</a></li>
<li class="level2"><a href="#emma_sendtext">Sending a Text / SMS message</a></li>
</ul>
</li>
<li class="level1"><a href="#tessa_ui_tests">Tessa</a><ul><li class="level2"><a href="#tessa_example">runTessa Example</a></li>
<li class="level2"><a href="#tessa_otherexamples">Other Examples</a></li>
</ul>
</li>
<li class="level1"><a href="#your_own_classes_with_olga">Olga</a><ul><li class="level2"><a href="#olga_single">Creating a Single Object</a></li>
<li class="level2"><a href="#olga_multiple">Creating a multiple object class</a></li>
<li class="level2"><a href="#olga_dynamic">Dynamic objects</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="tina"></a>
Tina</h1>
<div class="image">
<img src="tina_intro.png" alt="tina_intro.png"/>
<div class="caption">
Looking for a development stack?</div></div>
<p> Tina is the CEO of the Tina4 Corporation, as anyone knows a successful company needs a strong leader. Her skills lie in the organization of each of the girls and making sure each person collaborates properly on the task at hand. Tina is passionate about providing solutions to her customers and it is very important to her that each person is doing the job they were assigned. In a nutshell we have the following:</p>
<ul>
<li>
Routing  </li>
<li>
Migrations  </li>
<li>
Database Abstraction  </li>
<li>
Code Simplification  </li>
<li>
Templating  </li>
<li>
UI Testing with Selenium  </li>
<li>
WYSIWYG Report Generation  </li>
<li>
Email Handling  </li>
<li>
Object Abstraction  </li>
</ul>
<p>*</p>
<p>The Tina4Stack started with a need to bring some uniformity to the development I was doing in PHP and especially where I was working with other developers on the same project. I have often wondered if I should start using one of the popular frameworks out there but have decided against it for various reasons. Instead I have decided to share with you my workbench so to speak where you can also benefit from the work that has gone into this tool.</p>
<dl class="section note"><dt>Note</dt><dd>Tina4 simply means "This is NOT another Framework!"</dd></dl>
<h2><a class="anchor" id="download_latest"></a>
Download the Latest Release</h2>
<div class="image">
<img src="https://img.shields.io/sourceforge/dw/tina4stack.svg" />
</div>
<p> <a href="https://sourceforge.net/projects/tina4stack/files/latest/download">Download Latest Release </a></p>
<h2><a class="anchor" id="installing_tina4"></a>
Installation</h2>
<p>Installation is pretty straight forward. Download from the link above and unzip in your favourite place, the desktop will do fine just for a test. From there double click on the tina4.exe and you will see the following:</p>
<div class="image">
<img src="tina4interface.png" alt="tina4interface.png"/>
</div>
<h2><a class="anchor" id="what_is_in_the_stack"></a>
What is in the Stack?</h2>
<p>The Stack is built up from the following technologies which hopefully will get your development up and running in minutes. Incidentally we do not deploy any database engines for you and this should be done separately which is something we prefer.</p>
<ul>
<li>
Nginx </li>
<li>
PHP 5.6 <ol>
<li>
Curl is enabled </li>
<li>
GD2 is enabled </li>
<li>
MySQLi is enabled </li>
<li>
SQLite3 is enabled </li>
<li>
XDebug is enabled on port 9000 </li>
<li>
XCache is enabled </li>
<li>
Exif is enabled </li>
<li>
FileInfo is enabled </li>
<li>
Mbstring is enabled </li>
<li>
OpenSSL is enabled </li>
<li>
Soap is enabled </li>
<li>
XSL is enabled </li>
</ol>
</li>
<li>
Doxygen - both Windows &amp; Linux scripts - you are reading generated documentation now! </li>
<li>
Swagger UI </li>
<li>
Selenium Client </li>
<li>
XCache UI </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>On my todo list are the Tina4 clients for Linux &amp; MacOS</dd></dl>
<h2><a class="anchor" id="what_is_tina4"></a>
What is Tina4</h2>
<p>Tina4 is a collection of tools which will help you with your PHP development. In order to make the tools easy to remember and use we have given them names so that you can identify with each of the personalities when you are working. For example <a class="el" href="classRuth.html">Ruth</a> is responsible for Routing, <a class="el" href="classMaggy.html">Maggy</a> is responsible for migrations.</p>
<p>Now it may seem daunting to make use of tools you did not assist in building but you can use as little or as much of the tools as you want. After going over the core functionality of each of the girls in the stack I will explain the basics of how everything is supposed to work.</p>
<h1><a class="anchor" id="ruth"></a>
Ruth</h1>
<div class="image">
<img src="ruth_intro.png" alt="ruth_intro.png"/>
</div>
<p><a class="el" href="classRuth.html">Ruth</a> as we have said before is responsible for routing. Routing as you may be familiar with is the ability to handle URL requests to your website. You may be quite comfortable with writing routing tables in Apache or NGINX. If you decide to use <a class="el" href="classRuth.html">Ruth</a> you immediately have an application which will run on NGINX and Apache equally well. <a class="el" href="classRuth.html">Ruth</a> also handles security and sessions which are explained in her section.</p>
<h2><a class="anchor" id="ruth_example"></a>
Routing Example</h2>
<p>A quick example of <a class="el" href="classRuth.html">Ruth</a> in action, you would get this link at <a href="http://localhost:12345/testing">http://localhost:12345/testing</a> when developing. The output of this route would be <em>Hello</em> <em>Tina4!</em> </p>
<div class="fragment"><div class="line"><span class="comment">//Adding a GET route</span></div>
<div class="line"><a class="code" href="classRuth.html#ad13bc87f60f8b74efd4c784fa2c49288">Ruth::addRoute</a> (<a class="code" href="Ruth_8php.html#acc73cd34b6fcffd15a4fdd050e0a86d8">RUTH_GET</a>, <span class="stringliteral">&quot;/testing&quot;</span>, <span class="keyword">function</span> () {</div>
<div class="line">     echo <span class="stringliteral">&quot;Hello Tina4!&quot;</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>Simply adding a PHP file under the routes folder and adding the above code is sufficient for <a class="el" href="classRuth.html">Ruth</a> to start working.</dd></dl>
<h2><a class="anchor" id="ruth_example_variables"></a>
Routing Example with Variables</h2>
<p>Wouldn't it be great if you could pass variables in your path as well, of course it would!</p>
<div class="fragment"><div class="line"><span class="comment">//Adding a PUT route</span></div>
<div class="line"><a class="code" href="classRuth.html#ad13bc87f60f8b74efd4c784fa2c49288">Ruth::addRoute</a> (<a class="code" href="Ruth_8php.html#a2b907fccde62015cd5962321135ce9d2">RUTH_PUT</a>, <span class="stringliteral">&quot;/pet/{id}&quot;</span>, <span class="keyword">function</span> ($someId) {</div>
<div class="line">     echo <span class="stringliteral">&quot;Updating pet {$someId}&quot;</span>;</div>
<div class="line">});</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The variable names in PHP don't need to be the same, the order is what counts.</dd>
<dd>
The setup of the web server routes all URL requests to the <a class="el" href="tina4_8php.html">tina4.php</a> file which in turn relays them to <a class="el" href="classRuth.html">Ruth</a>. If your webserver has not been setup the stack will attempt to give you a configuration for Nginx or Apache.</dd></dl>
<h1><a class="anchor" id="cody"></a>
Cody</h1>
<div class="image">
<img src="cody_intro.png" alt="cody_intro.png"/>
</div>
<p><a class="el" href="classCody.html">Cody</a> was written to automate things that may take up a lot of repetition. At this point in time <a class="el" href="classCody.html">Cody</a> helps automate Bootstrap functionaflity. <a class="el" href="classCody.html">Cody</a> has a very neat Ajax handler which automatically reads form variables and passes them to the URL you specify. The Ajax handler of <a class="el" href="classCody.html">Cody</a> can also handle file uploading via Ajax and when used with <a class="el" href="classRuth.html">Ruth</a> and <a class="el" href="classDebby.html">Debby</a> you have very little coding to do.</p>
<h2><a class="anchor" id="cody_example"></a>
Example of Bootstrap Inputf</h2>
<p>The following code will create a properly formatted Bootstrap input with all the correct classes. You can see this in action in <a class="el" href="classMaggy.html">Maggy</a> <a href="http://localhost:12345/maggy/create">http://localhost:12345/maggy/create</a> </p><div class="fragment"><div class="line">echo (<span class="keyword">new</span> <a class="code" href="classCody.html">Cody</a>())-&gt;bootStrapInput(<span class="stringliteral">&quot;firstName&quot;</span>, <span class="stringliteral">&quot;First Name&quot;</span>, <span class="stringliteral">&quot;Full Names&quot;</span>, $defaultValue = <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;text&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="code_example_ajax"></a>
Example of Ajax Handler</h2>
<p>The following code will create a Javascript function called <em>callAjax</em> which can be used to run Ajax commands to your routing </p><div class="fragment"><div class="line">echo (<span class="keyword">new</span> <a class="code" href="classCody.html">Cody</a>())-&gt;ajaxHandler();</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>To include the Ajax handler with <a class="el" href="classKim.html">Kim</a> the code is {{<a class="el" href="classCody.html">Cody</a>:ajaxHandler}}!</dd></dl>
<p>The ajax Handler in <a class="el" href="classCody.html">Cody</a> takes on the following params and should be used in Javascript on your page.</p>
<div class="fragment"><div class="line">callAjax(<span class="stringliteral">&#39;/testing&#39;</span>, <span class="comment">//route to do a request to</span></div>
<div class="line">         <span class="stringliteral">&#39;myDiv&#39;</span>, <span class="comment">//The id of the tag or input you wish to target, leave blank if your ajax result is Javascript</span></div>
<div class="line">         {<span class="keywordtype">id</span>:10001}, <span class="comment">//some JSON to pass with the request, Ruth will make it into request variables</span></div>
<div class="line">         <span class="stringliteral">&#39;post&#39;</span>, <span class="comment">//get,post,delete etc...</span></div>
<div class="line">         <span class="keyword">true</span>); <span class="comment">//true or false, set to false to rewrite the URL in the browser after an Ajax call</span></div>
</div><!-- fragment --><h1><a class="anchor" id="kim"></a>
Kim</h1>
<div class="image">
<img src="kim_intro.png" alt="kim_intro.png"/>
</div>
<p><a class="el" href="classKim.html">Kim</a> likes to work with content, if you need something working quickly in HTML whilst still having access to the power of PHP then you need to see what <a class="el" href="classKim.html">Kim</a> can do. In order for <a class="el" href="classKim.html">Kim</a> to work correctly you need to have an assets folder under your document root. In this folder she will look for the following folders:</p>
<ul>
<li>
pages </li>
<li>
snippets </li>
<li>
forms </li>
</ul>
<p>Here are some examples of <a class="el" href="classKim.html">Kim</a> in action, hopefully from the examples you will be creating dynamic pages in a few minutes.</p>
<h2><a class="anchor" id="kim_include"></a>
Including HTML snippets</h2>
<p>The {{include:snippet/[snippet_name]}} will include a section of a file into the existing file. This is much like the normal require or include of PHP except that it has the ability to render variables in {braces}. The path used is relative to the assets folder, so all your includes should be under assets.</p>
<div class="fragment"><div class="line">{{include:snippet/header}}</div>
<div class="line"></div>
<div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;Some normal <a class="code" href="Shape_8php.html#a8b267aa0adca2018097f6f6f4c804d46">html</a> &lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
<div class="line"></div>
<div class="line">{{include:snippet/<a class="code" href="Shape_8php.html#ae5058e5b790e8cea2dd33c1c9bbcbbd4">footer</a>}}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><a class="el" href="classKim.html">Kim</a> adds .html automatically so snippet/footer would parse to /web_root/assets/snippet/footer.html</dd></dl>
<h2><a class="anchor" id="kim_parse_variable"></a>
Parsing Variables</h2>
<p><a class="el" href="classKim.html">Kim</a> understands that it is cumbersome to reference variables in your HTML files. More so if you need to make sure their scope is correct.</p>
<p>The normal way </p><div class="fragment"><div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
<div class="line">&lt;?php</div>
<div class="line">  echo $someVariable;</div>
<div class="line">?&gt;</div>
<div class="line">&lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
</div><!-- fragment --><p><a class="el" href="classKim.html">Kim</a>'s way </p><div class="fragment"><div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;{someVariable}&lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="kim_calling_php"></a>
Calling built in PHP functions</h2>
<p><a class="el" href="classKim.html">Kim</a> understands that we need to access some built in functions in our HTML templates, so she made it easy.</p>
<p>The normal way </p><div class="fragment"><div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
<div class="line">&lt;?php</div>
<div class="line">  echo substr(<span class="stringliteral">&quot;Some really long sentence!&quot;</span>,0,4).<span class="stringliteral">&quot;...&quot;</span>;</div>
<div class="line">?&gt;</div>
<div class="line">&lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
</div><!-- fragment --><p><a class="el" href="classKim.html">Kim</a>'s way </p><div class="fragment"><div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;{{call:substr?<span class="stringliteral">&quot;Some really long sentence!&quot;</span>,0,4}}...&lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><a class="el" href="classKim.html">Kim</a> only needs you to put your params in quotes when you have spaces or commas in between</dd></dl>
<h2><a class="anchor" id="kim_classes"></a>
Calling methods on classes</h2>
<p><a class="el" href="classKim.html">Kim</a> is able instantiate classes as call their methods which should return either text or arrays</p>
<p>The normal way </p><div class="fragment"><div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
<div class="line">&lt;?php</div>
<div class="line">  $myObject = <span class="keyword">new</span> MyObject();</div>
<div class="line">  echo $myObject-&gt;getName();</div>
<div class="line">?&gt;</div>
<div class="line">&lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
</div><!-- fragment --><p><a class="el" href="classKim.html">Kim</a>'s way </p><div class="fragment"><div class="line">&lt;<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;{{MyObject:getName}}&lt;/<a class="code" href="Shape_8php.html#a92ed2229ea45cf3c0e84a02cf12a7533">h1</a>&gt;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><a class="el" href="classKim.html">Kim</a> uses {} to designate variables and {{}} to designate objects or control structures.</dd></dl>
<h1><a class="anchor" id="debby"></a>
Debby</h1>
<div class="image">
<img src="debby_intro.png" alt="debby_intro.png"/>
</div>
<p><a class="el" href="classDebby.html">Debby</a> got all her experience from using Cross Database Engine for PHP which has been around for 8 years now. <a class="el" href="classDebby.html">Debby</a> took those features and added to the functionality. She is able to connect to the most popular database engines and because she supports ODBC the possibilities are endless. Currently the tested engines are MySQL, Firebird &amp; SQLite3. Support is offered for Oracle, Postgres, CUBRID, MSSQL (Native) &amp; ODBC.</p>
<h2><a class="anchor" id="debby_create"></a>
Creating a Database Connection</h2>
<p>All database connection files are stored under the connections folder. You can use the interface here : <a href="http://localhost:12345/debby/create">http://localhost:12345/debby/create</a> to make database connections. Each database connection will be registered as an object in <a class="el" href="classRuth.html">Ruth</a> which will then be accessible to your code.</p>
<h2><a class="anchor" id="debby_example"></a>
An Example Connection</h2>
<p>This connection is an SQLite3 connection</p>
<div class="fragment"><div class="line">global $DEB;</div>
<div class="line">$DEB = <span class="keyword">new</span> <a class="code" href="classDebby.html">Debby</a>( <span class="stringliteral">&quot;test.db&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;sqlite3&quot;</span>, <span class="stringliteral">&quot;YYYY-mm-dd&quot;</span> );</div>
<div class="line"><a class="code" href="classRuth.html#a9d554d9bdfe7596d41a2b08a3c0db9ce">Ruth::setOBJECT</a>(<span class="stringliteral">&quot;DEB&quot;</span>, $DEB);</div>
</div><!-- fragment --><p>The database path is an expression consisting of the hostname and path to the database itself. This covers a multitude of different database configurations. The hostname is only compulsory if it is not localhost or your database is attached to a specific IP address or is remote from the actual server.</p>
<div class="fragment"><div class="line"><span class="comment">//MySQL :</span></div>
<div class="line">$dbPath = <span class="stringliteral">&quot;127.0.0.1:my_database&quot;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">//Firebird:</span></div>
<div class="line">$dbPath = <span class="stringliteral">&quot;127.0.0.1:/tmp/TEST.FDB&quot;</span>;  <span class="comment">//or 127.0.0.1:c:\test\TEST.FDB</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//SQLite3:</span></div>
<div class="line">$dbPath = <span class="stringliteral">&quot;/tmp/database.db&quot;</span>;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The connections can be accessed using <a class="el" href="classRuth.html#a899c68457a6a7c1b8a0b25bfd74c4c15">Ruth::getOBJECT</a> when needed.</dd></dl>
<h2><a class="anchor" id="debby_get_rows"></a>
Some CRUDL</h2>
<p><a class="el" href="classDebby.html">Debby</a> has a few methods which communicate with the database, you should however consider using <a class="el" href="classOlga.html">Olga</a> or <a class="el" href="classCody.html">Cody</a>'s REST interface for less effort.</p>
<div class="fragment"><div class="line"><span class="comment">//Get the Debby Object</span></div>
<div class="line"></div>
<div class="line">$DEB = <a class="code" href="classRuth.html">Ruth</a>:getOBJECT(<span class="stringliteral">&quot;DEB&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Run some SQL</span></div>
<div class="line"></div>
<div class="line">$DEB-&gt;exec (<span class="stringliteral">&quot;create table test (id integer, name varchar(200), primary key(id))&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Insert a record</span></div>
<div class="line"></div>
<div class="line">$DEB-&gt;exec (<span class="stringliteral">&quot;insert into test (id, name) values (0, &#39;No One&#39;)&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Insert another record</span></div>
<div class="line"></div>
<div class="line">$DEB-&gt;insert(<span class="stringliteral">&quot;test&quot;</span>, [<span class="stringliteral">&quot;id&quot;</span> =&gt; 1, <span class="stringliteral">&quot;name&quot;</span> =&gt; <span class="stringliteral">&quot;Another Person&quot;</span>]);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Update a record</span></div>
<div class="line"></div>
<div class="line">$DEB-&gt;exec (<span class="stringliteral">&quot;update test set name = &#39;Some One&#39; where id = 0&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Update another record</span></div>
<div class="line"></div>
<div class="line">$DEB-&gt;update(<span class="stringliteral">&quot;test&quot;</span>, [<span class="stringliteral">&quot;name&quot;</span> =&gt; <span class="stringliteral">&quot;Another Someone&quot;</span>], [<span class="stringliteral">&quot;id&quot;</span> =&gt; 1]);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Delete a record</span></div>
<div class="line">$DEB-&gt;exec (<span class="stringliteral">&quot;delete from test where id = 0&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">//Delete another record</span></div>
<div class="line">$DEB-&gt;delete (<span class="stringliteral">&quot;test&quot;</span>, [<span class="stringliteral">&quot;id&quot;</span> =&gt; 1]);</div>
<div class="line"></div>
<div class="line"><span class="comment">//get some records</span></div>
<div class="line">$rows = $DEB-&gt;getRows (<span class="stringliteral">&quot;select * from test&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">foreach</span> ($rows as $rowId =&gt; $row) {</div>
<div class="line">  echo $row-&gt;NAME; <span class="comment">//notice the capitals</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">$row = $DEB-&gt;getRow(<span class="stringliteral">&quot;select * from test&quot;</span>, 1); <span class="comment">//get the second row</span></div>
<div class="line"></div>
<div class="line">echo $row-&gt;NAME;</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd><a class="el" href="classDebby.html">Debby</a> makes all field names uppercase so you don't have to worry about what the names are for different databases.</dd></dl>
<p><a class="el" href="classDebby.html">Debby</a> also understands different dialects of SQL so you don't have to worry about select top or select first or limit 10. She will be able to translate those for you. She also takes care of file uploads for you.</p>
<h1><a class="anchor" id="maggy"></a>
Maggy</h1>
<div class="image">
<img src="maggy_intro.png" alt="maggy_intro.png"/>
</div>
<p><a class="el" href="classMaggy.html">Maggy</a> helps you keep your database migrations current. She creates a table in your database where she tracks the changes. You can create migrations easily by going to <a href="http://localhost:12345/maggy/create">http://localhost:12345/maggy/create</a>.</p>
<div class="image">
<img src="maggy_create.png" alt="maggy_create.png"/>
<div class="caption">
Creating a migration</div></div>
<p> The migrations will be stored under your migrations folder and can be edited there as well. To make the migrations work you can simply click on the browser button of Tina4 and the link to <a href="http://localhost:12345/maggy">http://localhost:12345/maggy</a> will be run.</p>
<h2><a class="anchor" id="maggy_how"></a>
How She Does It</h2>
<p><a class="el" href="classMaggy.html">Maggy</a> works from the migrations folder in your document root. She looks for files with an sql extension which have been formatted as follows:</p>
<p>YYYYMMDDHHMMSS &lt;Migration description&gt;=""&gt;.sql</p>
<p>There are some basic rules to follow when using <a class="el" href="classMaggy.html">Maggy</a> and these are based on database limitations with regard to transaction handling: </p><ul>
<li>
create tables first, add the inserts in a separate migration file </li>
<li>
stored procedures and views should be in their own migration files  </li>
<li>
<p class="startli">indexes can be created with the tables but some database engines need the transaction of the table to be committed first </p>
<p class="endli"></p>
</li>
</ul>
<h1><a class="anchor" id="emma"></a>
Emma</h1>
<div class="image">
<img src="emma_intro.png" alt="emma_intro.png"/>
</div>
<p><a class="el" href="classEmma.html">Emma</a> is used to send emails so you don't need any other libraries. She takes care of embedding rich HTML and saves sent emails to the mailspool for you so you can see what's going on.</p>
<h2><a class="anchor" id="emma_email"></a>
Sending an Email</h2>
<p>Use the Tina4 interface to see how the email got sent.</p>
<div class="fragment"><div class="line">(<span class="keyword">new</span> <a class="code" href="classEmma.html">Emma</a>())-&gt;sendMail ( $recipient=<span class="stringliteral">&quot;Mr Recipient&lt;noone@nowhere.com&gt;&quot;</span>, $</div>
<div class="line">                         $subject=<span class="stringliteral">&quot;Test Tina4&quot;</span>,</div>
<div class="line">                         $message=<span class="stringliteral">&quot;Some rich text or HTML&quot;</span>,</div>
<div class="line">                         $fromName=<span class="stringliteral">&quot;Tina&quot;</span>,</div>
<div class="line">                         $fromAddress=<span class="stringliteral">&quot;tina@tina4.com&quot;</span>,</div>
<div class="line">                         $attachments=null );</div>
</div><!-- fragment --><h2><a class="anchor" id="emma_sendtext"></a>
Sending a Text / SMS message</h2>
<p>Currently <a class="el" href="classEmma.html">Emma</a> uses BulkSMS to send out text messages. Let us know if you have another preference.</p>
<div class="fragment"><div class="line"><span class="comment">//requires a Bulk SMS username &amp; password http://bulksms.com</span></div>
<div class="line">(<span class="keyword">new</span> <a class="code" href="classEmma.html">Emma</a>($username, $password))-&gt;sendText ($mobileno=<span class="stringliteral">&quot;8087234511&quot;</span>, $message=<span class="stringliteral">&quot;Hello World!&quot;</span>, $countryPrefix=<span class="stringliteral">&quot;01&quot;</span>);</div>
</div><!-- fragment --><h1><a class="anchor" id="tessa_ui_tests"></a>
Tessa</h1>
<div class="image">
<img src="tessa_intro.png" alt="tessa_intro.png"/>
</div>
<p><a class="el" href="classTessa.html">Tessa</a> is used for UI testing, she has some simple commands which enable you to link up with Selenium server. By default she uses Firefox todo the testing. You will need to download the standalone Selenium server and run that before trying to run <a class="el" href="classTessa.html">Tessa</a>. <a class="el" href="classTessa.html">Tessa</a> can be run from <a href="http://localhost:12345/tessa">http://localhost:12345/tessa</a></p>
<p>Have a look at the code in the test folder in runTessa.php Any functions that are found in files dropped in the test folder will be automatically injected into the runTessa class. That means you can call them from within the runTests methods by using $this-&gt;runMyTest().</p>
<h2><a class="anchor" id="tessa_example"></a>
runTessa Example</h2>
<div class="fragment"><div class="line"><a class="code" href="Tessa_8php.html#a743872d307323bf8cef1cc94ed6324ee">IWantTo</a>(<span class="stringliteral">&quot;Navigate to the extra running instance of my local site http://localhost:12346&quot;</span>);</div>
<div class="line"></div>
<div class="line">NavigateTo(<span class="stringliteral">&quot;http://localhost:12346&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a743872d307323bf8cef1cc94ed6324ee">IWantTo</a>(<span class="stringliteral">&quot;Check the landing page for Tina4&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a28ecccffe3517c38607586b303e312c1">IExpectToSee</a>(<span class="stringliteral">&quot;Tina4 Release &quot;</span>.TINA4_RELEASE);</div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a743872d307323bf8cef1cc94ed6324ee">IWantTo</a>(<span class="stringliteral">&quot;See if there is some other things&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a28ecccffe3517c38607586b303e312c1">IExpectToSee</a>(<span class="stringliteral">&quot;Some other things&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="tessa_otherexamples"></a>
Other Examples</h2>
<div class="fragment"><div class="line"><span class="comment">//Other examples</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a6e436b807e73d7ec9d079fab9161cc21">LookFor</a>(<span class="stringliteral">&quot;someId&quot;</span>)-&gt;AndSetText(<span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a4408ae641f64cfc2e35afc782627f928">WaitFor2Seconds</a>();</div>
<div class="line"></div>
<div class="line"><a class="code" href="Tessa_8php.html#a6e436b807e73d7ec9d079fab9161cc21">LookFor</a>(<span class="stringliteral">&quot;someButton&quot;</span>)-&gt;AndClick();</div>
</div><!-- fragment --><h1><a class="anchor" id="your_own_classes_with_olga"></a>
Olga</h1>
<p><a class="el" href="classOlga.html">Olga</a> enables the developer to use classes as data stores for data, these objects can be mapped back to a database which <a class="el" href="classOlga.html">Olga</a> will use to save or restore data from If you run xcache on your system, <a class="el" href="classOlga.html">Olga</a> will automatically persist these objects in memory making the load on the server very light.</p>
<h2><a class="anchor" id="olga_single"></a>
Creating a Single Object</h2>
<p>We could create a Pet object, all classes need to have an id for the system to reference it by from memory </p><div class="fragment"><div class="line"><span class="keyword">class </span>Pet <span class="keyword">extends</span> <a class="code" href="classOlga.html">Olga</a> {</div>
<div class="line">     var $id;</div>
<div class="line">     var $name;</div>
<div class="line">     var $type;</div>
<div class="line"></div>
<div class="line">     var $mapping = Array([  <span class="stringliteral">&quot;table&quot;</span> =&gt; <span class="stringliteral">&quot;tbl_pet&quot;</span>,</div>
<div class="line">                             <span class="stringliteral">&quot;fields&quot;</span> =&gt; [</div>
<div class="line">                                 <span class="stringliteral">&quot;id&quot;</span> =&gt; [<span class="stringliteral">&quot;field&quot;</span> =&gt; <span class="stringliteral">&quot;pet_id&quot;</span>],</div>
<div class="line">                                 <span class="stringliteral">&quot;name&quot;</span> =&gt; [<span class="stringliteral">&quot;field&quot;</span> =&gt; <span class="stringliteral">&quot;pet_name&quot;</span>],</div>
<div class="line">                                 <span class="stringliteral">&quot;type&quot;</span> =&gt; [<span class="stringliteral">&quot;field&quot;</span> =&gt; <span class="stringliteral">&quot;pet_type&quot;</span>]</div>
<div class="line">                             ]</div>
<div class="line">                    ]);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//Getting a certain pet from the system</span></div>
<div class="line"></div>
<div class="line"> $pet = (<span class="keyword">new</span> Pet())-&gt;getBy([<span class="stringliteral">&quot;name&quot;</span> =&gt; <span class="stringliteral">&quot;polly&quot;</span>]); <span class="comment">// basically select * from table where name = &#39;polly&#39;;</span></div>
<div class="line"></div>
<div class="line"> echo $pet; <span class="comment">//this will output a JSON object</span></div>
</div><!-- fragment --><h2><a class="anchor" id="olga_multiple"></a>
Creating a multiple object class</h2>
<p>We could then create a collection of pets which would use the Pet object as an array object</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Pets <span class="keyword">extends</span> <a class="code" href="classOlga.html">Olga</a> {</div>
<div class="line">     var $mapping = Array([  <span class="stringliteral">&quot;table&quot;</span> =&gt; <span class="stringliteral">&quot;tbl_pet&quot;</span>,</div>
<div class="line">                             <span class="stringliteral">&quot;object&quot;</span> =&gt; <span class="stringliteral">&quot;Pet&quot;</span></div>
<div class="line">                         ]);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//load the pets from the database</span></div>
<div class="line">$pets = <span class="keyword">new</span> Pets();</div>
<div class="line">$pets-&gt;load();</div>
</div><!-- fragment --><h2><a class="anchor" id="olga_dynamic"></a>
Dynamic objects</h2>
<p><a class="el" href="classOlga.html">Olga</a> is also quite useful for creating dynamic objects</p>
<div class="fragment"><div class="line">$cat = <span class="keyword">new</span> <a class="code" href="classOlga.html">Olga</a>(<span class="stringliteral">&#39;{&quot;id&quot;:10,&quot;name&quot;:&quot;Garfield&quot;,&quot;type&quot;:&quot;cat&quot;}&#39;</span>);</div>
<div class="line">echo $cat-&gt;getName();</div>
</div><!-- fragment --><dl class="section author"><dt>Author</dt><dd>Andre van Zuydam </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0.0 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Tina4 </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Sep 9 2015 21:03:47 for Tina4Stack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
